(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cfb23"],{"658f":function(t,e,c){"use strict";c.r(e);c("a4d3"),c("e01a");var o=c("7a23"),a={class:"container-fluid"},i={class:"product container row g-0 px-md-3 mx-auto"},r={class:"product-photos col-md-6 row g-0 align-self-start p-3 p-md-0"},n={class:"photo-lg col-12"},s=["onMouseover","onClick"],d={class:"product-content col-md-6 text-center text-md-start"},l={class:"path d-block mb-4 fs-7"},u=Object(o["createTextVNode"])("首頁"),p=Object(o["createTextVNode"])("  /  "),m=Object(o["createTextVNode"])("手感烘焙"),b=Object(o["createTextVNode"])("  /  "),g={class:"active"},f={class:"product-desc"},O={key:0,class:"text-secondary m-0"},h={key:1,class:"product-price mt-4"},j={key:0},N={class:"fs-7 ms-2 text-secondary"},y={class:"product-btns col-md-9 d-md-flex"},v=["max","disabled"],x=["disabled"],k=Object(o["createTextVNode"])(" 加入購物車 "),V={key:2,class:"d-block text-danger mt-1"},E={class:"product-page row g-0 justify-content-between py-4 px-3 px-md-0"},w=Object(o["createElementVNode"])("i",{class:"material-icons fs-6"},"west",-1),D=Object(o["createElementVNode"])("i",{class:"material-icons fs-6"},"east",-1),S=Object(o["createElementVNode"])("i",{class:"material-icons fs-6"},"east",-1),B={class:"product-info"},C=Object(o["createStaticVNode"])('<div class="container row g-0 mx-auto p-3 pe-md-0 py-md-0"><div class="col-md-6 p-3 px-md-0 py-md-5 lh-lg"><h2 class="fs-5 text-primary">注意事項</h2><p class="mb-4"> PANYA 選用在地天然食材，每日手工製作，若您無法於購買後食用完畢，請依照以下建議保存方式保存，超過建議食用期限請勿食用。 </p><ul class="list-unstyled fa-ul m-0 mt-3 ps-4"><li><span class="fa-li"><i class="fas fa fa-cookie cookie"></i></span> 麵包類：常溫保存1日、冷藏保存2日、冷凍保存1週。 </li><li><span class="fa-li"><i class="fas fa fa-cookie-bite cookie"></i></span> 蛋糕類：冷藏保存2日、冷凍保存5日。 </li><li><span class="fa-li"><i class="fas fa fa-cookie cookie"></i></span> 舒芙蕾：請於購買後即刻食用完畢，隔餐請勿食用。 </li><li><span class="fa-li"><i class="fas fa fa-cookie-bite cookie"></i></span> 餅乾類：常溫保存1週、冷藏保存2週、冷凍保存1個月。 </li></ul></div><div class="bg-notice col-6"><span style="background-image:url(&#39;https://storage.googleapis.com/vue-course-api.appspot.com/panya/1627476566603.jpeg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&amp;Expires=1742169600&amp;Signature=p3Hs3ZDZOVQHup%2ByuFxmTCCzZdZ61mRuNZYlZapNzSzW8dPb0u9qNtjmZxalOUdM8sYUicXS2UQgilr3%2F8fFXBWr1nfbLKjgFuY5wQcLpPbBEnIM1BFT45LtMxWgOExwNgG2eANiTWOZfbtZCwYcOO%2F3Pz2cShtKK8F29vE%2FKarXoHLnkEvYzppZtphgRTGQeFW2aJwia%2F1tcTAoseHPALQ7lbROXdZNS6mqRs0%2FK1NT%2BA1C5EKUlzXXbbZ8ps3Lln%2FZ35d0Ni1mtQSeDGvWyEdJdd%2F%2BBiab4WfRQByqZAJGmR06IhGMLqnOkEdFJcSok7QZQ7wMnpatOkQWIFExIg%3D%3D&#39;);"></span></div></div>',1),T=[C],P={class:"container px-3"},_=Object(o["createElementVNode"])("div",{id:"target",class:"position-fixed vw-100 bottom-10"},null,-1);function $(t,e,c,C,$,F){var M=Object(o["resolveComponent"])("router-link"),q=Object(o["resolveComponent"])("Spinner"),Z=Object(o["resolveComponent"])("FrontSwiper");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",a,[Object(o["withDirectives"])(Object(o["createElementVNode"])("div",i,[Object(o["createElementVNode"])("div",r,[Object(o["createElementVNode"])("div",n,[Object(o["createElementVNode"])("span",{style:Object(o["normalizeStyle"])({"background-image":"url(".concat($.enterImage,")")})},null,4)]),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])($.product.imagesUrl,(function(t,e){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:Object(o["normalizeClass"])(["photo-sm col-4",t===$.enterImage?"active":""]),role:"button",key:e,onMouseover:function(e){return $.enterImage=t},onClick:function(e){return $.enterImage=t}},[Object(o["createElementVNode"])("span",{style:Object(o["normalizeStyle"])({"background-image":"url(".concat(t,")")})},null,4)],42,s)})),128))]),Object(o["createElementVNode"])("div",d,[Object(o["createElementVNode"])("span",l,[Object(o["createVNode"])(M,{to:"/"},{default:Object(o["withCtx"])((function(){return[u]})),_:1}),p,Object(o["createVNode"])(M,{to:"/products?category=all&page=1"},{default:Object(o["withCtx"])((function(){return[m]})),_:1}),b,Object(o["createElementVNode"])("span",g,Object(o["toDisplayString"])($.product.category),1)]),Object(o["createElementVNode"])("h1",null,Object(o["toDisplayString"])($.product.title),1),Object(o["createElementVNode"])("p",f,Object(o["toDisplayString"])($.product.description),1),$.product.content?(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",O," 重量："+Object(o["toDisplayString"])($.product.content),1)):Object(o["createCommentVNode"])("",!0),$.product.price?(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",h,[$.product.price<$.product.origin_price?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",j,"$"+Object(o["toDisplayString"])(t.$cash($.product.price)),1)):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("small",{class:Object(o["normalizeClass"])($.product.price<$.product.origin_price?"del":"")},"$ "+Object(o["toDisplayString"])(t.$cash($.product.origin_price))+" NTD",3),Object(o["createElementVNode"])("small",N,"/ "+Object(o["toDisplayString"])($.product.unit),1)])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",y,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"number",min:"1",max:$.maxNum,class:"form-control panya-input text-center text-md-start","onUpdate:modelValue":e[0]||(e[0]=function(t){return $.product.qty=t}),inputmode:"numeric",disabled:c.isDisabled===$.product.id||$.product.is_max,onFocus:e[1]||(e[1]=function(t){return $.tempNum=$.product}),onBlur:e[2]||(e[2]=function(){return F.blurInput&&F.blurInput.apply(F,arguments)})},null,40,v),[[o["vModelText"],$.product.qty,void 0,{number:!0}]]),Object(o["createElementVNode"])("button",{class:"btn btn-primary col-12 col-md-7 ms-md-2 p-3 mt-3 mt-md-0",type:"button",disabled:c.isDisabled===$.product.id||$.product.is_max,onClick:e[3]||(e[3]=function(t){return F.addToCart($.product)})},[k,Object(o["createVNode"])(q,{"spin-item":$.product.id},null,8,["spin-item"])],8,x)]),$.product.is_max?(Object(o["openBlock"])(),Object(o["createElementBlock"])("small",V,"已達可購買最大數量")):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",E,[Object(o["createElementVNode"])("button",{class:"col-6 col-md-2 btn btn-outline-secondary fs-7",type:"button",onClick:e[4]||(e[4]=function(t){return F.goToProduct($.prev_product)})},[w,Object(o["createTextVNode"])(Object(o["toDisplayString"])($.prev_product.title),1)]),Object(o["createElementVNode"])("button",{class:"col-6 col-md-2 btn btn-outline-secondary fs-7 border-start-0 d-md-none",type:"button",onClick:e[5]||(e[5]=function(t){return F.goToProduct($.next_product)})},[Object(o["createTextVNode"])(Object(o["toDisplayString"])($.next_product.title),1),D]),Object(o["createElementVNode"])("button",{class:"col-6 col-md-2 btn btn-outline-secondary fs-7 d-none d-md-flex",type:"button",onClick:e[6]||(e[6]=function(t){return F.goToProduct($.next_product)})},[Object(o["createTextVNode"])(Object(o["toDisplayString"])($.next_product.title),1),S])])],512),[[o["vShow"],$.filterDatas.length>0]]),Object(o["withDirectives"])(Object(o["createElementVNode"])("div",B,T,512),[[o["vShow"],$.filterDatas.length>0]]),Object(o["withDirectives"])(Object(o["createElementVNode"])("div",P,[Object(o["createVNode"])(Z,{datas:$.filterDatas,"is-disabled":c.isDisabled,title:"相關商品"},null,8,["datas","is-disabled"])],512),[[o["vShow"],$.filterDatas.length>0]]),_])}c("4de4"),c("d3b7"),c("6062"),c("3ca3"),c("ddb0"),c("159b"),c("b0c0");var F=c("a397"),M=c("a0bc"),q={emits:["page-loading","push-message","toggle-spinner","add-cart"],props:["isDisabled","datas"],components:{FrontSwiper:M["a"]},data:function(){return{id:"",category:"",products:[],product:{},enterImage:"",prev_product:{},next_product:{},filterDatas:[],tempNum:{},maxNum:0}},methods:{getProduct:function(){var t=this;Object(F["t"])(this.id).then((function(e){e.data.success||(t.$pushMessage(e),t.$router.push("/error")),t.product=e.data.product,t.product.qty=1,t.category=t.product.category;var c=t.product.imagesUrl[0];t.enterImage=c,document.title="".concat(t.product.title," - PANYA"),t.filterProducts(),t.getSiblingProduct(t.products),t.getMaxNum(),setTimeout((function(){t.$emitter.emit("page-loading",!1)}),1e3)})).catch((function(e){t.$emitter.emit("page-loading",!1),t.$pushMessage(e)}))},getAllProducts:function(){var t=this;Object(F["b"])().then((function(e){e.data.success||t.$pushMessage(e),t.products=e.data.products.reverse(),t.getProduct()})).catch((function(e){t.$emitter.emit("page-loading",!1),t.$pushMessage(e)}))},filterProducts:function(){for(var t=this,e=this.product,c=e.category,o=e.id,a=this.products.filter((function(t){return t.category===c&&t.id!==o})),i=a.length<6?a.length:6,r=new Set([]),n=0;r.size<i;n+1){var s=Math.floor(Math.random()*a.length);r.add(s)}this.filterDatas=[],r.forEach((function(e){t.filterDatas.push(a[e])}))},getSiblingProduct:function(t){var e=this;t.forEach((function(c,o){var a=c.id;if(a===e.id){var i=t[o-1]||t[t.length-1],r=t[o+1]||t[0];e.prev_product=!!i&&{id:i.id,title:i.title},e.next_product=!!r&&{id:r.id,title:r.title}}}))},getMaxNum:function(){var t=this,e=this.datas.carts.filter((function(e){return t.product.id===e.product_id}));e?(e.length>0?this.maxNum=30-e[0].qty:this.maxNum=30,this.maxNum<=0?this.product.is_max=!0:this.product.is_max=!1):this.maxNum=30},blurInput:function(){this.product=this.tempNum,this.tempNum.qty<1&&(this.product.qty=1),this.tempNum={}},addToCart:function(t){this.$emitter.emit("add-cart",{item:t,qty:t.qty}),this.$emitter.emit("toggle-spinner",{id:t.id})},goToProduct:function(t){t.id&&this.$router.push("./".concat(t.id))}},watch:{$route:{handler:function(t){"Product"===t.name&&(this.$emitter.emit("page-loading",!0),this.id=this.$route.params.id,this.getProduct())},deep:!0},tempNum:{handler:function(t){var e=t.qty,c=t;e>=this.maxNum&&(c.qty=this.maxNum),e<1&&(c.qty="")},deep:!0},datas:function(){this.getProduct()}},mounted:function(){this.$emitter.emit("page-loading",!0),this.id=this.$route.params.id,this.getAllProducts()}},Z=c("6b0d"),I=c.n(Z);const z=I()(q,[["render",$]]);e["default"]=z}}]);
//# sourceMappingURL=chunk-2d0cfb23.10dc1696.js.map