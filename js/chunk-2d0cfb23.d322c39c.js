(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cfb23"],{"658f":function(t,e,c){"use strict";c.r(e);c("a4d3"),c("e01a");var o=c("7a23"),a={class:"container-fluid"},i={class:"product container row g-0 px-md-3 mx-auto"},r={class:"product-photos col-md-6 row g-0 align-self-start p-3 p-md-0"},s={class:"photo-lg col-12"},n={class:"product-content col-md-6 text-center text-md-start"},d={class:"path d-block mb-4 fs-7"},l=Object(o["createTextVNode"])("首頁"),u=Object(o["createTextVNode"])("  /  "),p=Object(o["createTextVNode"])("手感烘焙"),m=Object(o["createTextVNode"])("  /  "),b={class:"active"},g={class:"product-desc"},f={key:0,class:"text-secondary m-0"},h={key:1,class:"product-price mt-4"},O={key:0},j={class:"fs-7 ms-2 text-secondary"},N={class:"product-btns col-md-9 d-md-flex"},y=Object(o["createTextVNode"])(" 加入購物車 "),v={key:2,class:"d-block text-danger mt-1"},x={class:"product-page row g-0 justify-content-between py-4 px-3 px-md-0"},k=Object(o["createVNode"])("i",{class:"material-icons fs-6"},"west",-1),V=Object(o["createVNode"])("i",{class:"material-icons fs-6"},"east",-1),w=Object(o["createVNode"])("i",{class:"material-icons fs-6"},"east",-1),D={class:"product-info"},S=Object(o["createStaticVNode"])('<div class="container row g-0 mx-auto p-3 pe-md-0 py-md-0"><div class="col-md-6 p-3 px-md-0 py-md-5 lh-lg"><h2 class="fs-5 text-primary">注意事項</h2><p class="mb-4"> PANYA 選用在地天然食材，每日手工製作，若您無法於購買後食用完畢，請依照以下建議保存方式保存，超過建議食用期限請勿食用。 </p><ul class="list-unstyled fa-ul m-0 mt-3 ps-4"><li><span class="fa-li"><i class="fas fa fa-cookie cookie"></i></span> 麵包類：常溫保存1日、冷藏保存2日、冷凍保存1週。 </li><li><span class="fa-li"><i class="fas fa fa-cookie-bite cookie"></i></span> 蛋糕類：冷藏保存2日、冷凍保存5日。 </li><li><span class="fa-li"><i class="fas fa fa-cookie cookie"></i></span> 舒芙蕾：請於購買後即刻食用完畢，隔餐請勿食用。 </li><li><span class="fa-li"><i class="fas fa fa-cookie-bite cookie"></i></span> 餅乾類：常溫保存1週、冷藏保存2週、冷凍保存1個月。 </li></ul></div><div class="bg-notice col-6"><span style="background-image:url(&#39;https://storage.googleapis.com/vue-course-api.appspot.com/panya/1627476566603.jpeg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&amp;Expires=1742169600&amp;Signature=p3Hs3ZDZOVQHup%2ByuFxmTCCzZdZ61mRuNZYlZapNzSzW8dPb0u9qNtjmZxalOUdM8sYUicXS2UQgilr3%2F8fFXBWr1nfbLKjgFuY5wQcLpPbBEnIM1BFT45LtMxWgOExwNgG2eANiTWOZfbtZCwYcOO%2F3Pz2cShtKK8F29vE%2FKarXoHLnkEvYzppZtphgRTGQeFW2aJwia%2F1tcTAoseHPALQ7lbROXdZNS6mqRs0%2FK1NT%2BA1C5EKUlzXXbbZ8ps3Lln%2FZ35d0Ni1mtQSeDGvWyEdJdd%2F%2BBiab4WfRQByqZAJGmR06IhGMLqnOkEdFJcSok7QZQ7wMnpatOkQWIFExIg%3D%3D&#39;);"></span></div></div>',1),B={class:"container px-3"},T=Object(o["createVNode"])("div",{id:"target",class:"position-fixed vw-100 bottom-10"},null,-1);function C(t,e,c,C,P,_){var $=Object(o["resolveComponent"])("router-link"),F=Object(o["resolveComponent"])("Spinner"),M=Object(o["resolveComponent"])("FrontSwiper");return Object(o["openBlock"])(),Object(o["createBlock"])("div",a,[Object(o["withDirectives"])(Object(o["createVNode"])("div",i,[Object(o["createVNode"])("div",r,[Object(o["createVNode"])("div",s,[Object(o["createVNode"])("span",{style:{"background-image":"url(".concat(P.enterImage,")")}},null,4)]),(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(P.product.imagesUrl,(function(t,e){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:["photo-sm col-4",t===P.enterImage?"active":""],role:"button",key:e,onMouseover:function(e){return P.enterImage=t},onClick:function(e){return P.enterImage=t}},[Object(o["createVNode"])("span",{style:{"background-image":"url(".concat(t,")")}},null,4)],42,["onMouseover","onClick"])})),128))]),Object(o["createVNode"])("div",n,[Object(o["createVNode"])("span",d,[Object(o["createVNode"])($,{to:"/"},{default:Object(o["withCtx"])((function(){return[l]})),_:1}),u,Object(o["createVNode"])($,{to:"/products?category=all&page=1"},{default:Object(o["withCtx"])((function(){return[p]})),_:1}),m,Object(o["createVNode"])("span",b,Object(o["toDisplayString"])(P.product.category),1)]),Object(o["createVNode"])("h1",null,Object(o["toDisplayString"])(P.product.title),1),Object(o["createVNode"])("p",g,Object(o["toDisplayString"])(P.product.description),1),P.product.content?(Object(o["openBlock"])(),Object(o["createBlock"])("p",f," 重量："+Object(o["toDisplayString"])(P.product.content),1)):Object(o["createCommentVNode"])("",!0),P.product.price?(Object(o["openBlock"])(),Object(o["createBlock"])("p",h,[P.product.price<P.product.origin_price?(Object(o["openBlock"])(),Object(o["createBlock"])("span",O,"$"+Object(o["toDisplayString"])(t.$cash(P.product.price)),1)):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])("small",{class:P.product.price<P.product.origin_price?"del":""},"$ "+Object(o["toDisplayString"])(t.$cash(P.product.origin_price))+" NTD",3),Object(o["createVNode"])("small",j,"/ "+Object(o["toDisplayString"])(P.product.unit),1)])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])("div",N,[Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"number",min:"1",max:P.maxNum,class:"form-control panya-input text-center text-md-start","onUpdate:modelValue":e[1]||(e[1]=function(t){return P.product.qty=t}),inputmode:"numeric",disabled:c.isDisabled===P.product.id||P.product.is_max,onFocus:e[2]||(e[2]=function(t){return P.tempNum=P.product}),onBlur:e[3]||(e[3]=function(){return _.blurInput&&_.blurInput.apply(_,arguments)})},null,40,["max","disabled"]),[[o["vModelText"],P.product.qty,void 0,{number:!0}]]),Object(o["createVNode"])("button",{class:"btn btn-primary col-12 col-md-7 ms-md-2 p-3 mt-3 mt-md-0",type:"button",disabled:c.isDisabled===P.product.id||P.product.is_max,onClick:e[4]||(e[4]=function(t){return _.addToCart(P.product)})},[y,Object(o["createVNode"])(F,{"spin-item":P.product.id},null,8,["spin-item"])],8,["disabled"])]),P.product.is_max?(Object(o["openBlock"])(),Object(o["createBlock"])("small",v,"已達可購買最大數量")):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])("div",x,[Object(o["createVNode"])("button",{class:"col-6 col-md-2 btn btn-outline-secondary fs-7",type:"button",onClick:e[5]||(e[5]=function(t){return _.goToProduct(P.prev_product)})},[k,Object(o["createTextVNode"])(Object(o["toDisplayString"])(P.prev_product.title),1)]),Object(o["createVNode"])("button",{class:"col-6 col-md-2 btn btn-outline-secondary fs-7\n          border-start-0 d-md-none",type:"button",onClick:e[6]||(e[6]=function(t){return _.goToProduct(P.next_product)})},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(P.next_product.title),1),V]),Object(o["createVNode"])("button",{class:"col-6 col-md-2 btn btn-outline-secondary fs-7\n          d-none d-md-flex",type:"button",onClick:e[7]||(e[7]=function(t){return _.goToProduct(P.next_product)})},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(P.next_product.title),1),w])])],512),[[o["vShow"],P.filterDatas.length>0]]),Object(o["withDirectives"])(Object(o["createVNode"])("div",D,[S],512),[[o["vShow"],P.filterDatas.length>0]]),Object(o["withDirectives"])(Object(o["createVNode"])("div",B,[Object(o["createVNode"])(M,{datas:P.filterDatas,"is-disabled":c.isDisabled,title:"相關商品"},null,8,["datas","is-disabled"])],512),[[o["vShow"],P.filterDatas.length>0]]),T])}c("4de4"),c("d3b7"),c("6062"),c("3ca3"),c("ddb0"),c("159b"),c("b0c0");var P=c("a397"),_=c("a0bc"),$={emits:["page-loading","push-message","toggle-spinner","add-cart"],props:["isDisabled","datas"],components:{FrontSwiper:_["a"]},data:function(){return{id:"",category:"",products:[],product:{},enterImage:"",prev_product:{},next_product:{},filterDatas:[],tempNum:{},maxNum:0}},methods:{getProduct:function(){var t=this;Object(P["t"])(this.id).then((function(e){e.data.success||(t.$pushMessage(e),t.$router.push("/error")),t.product=e.data.product,t.product.qty=1,t.category=t.product.category;var c=t.product.imagesUrl[0];t.enterImage=c,document.title="".concat(t.product.title," - PANYA"),t.filterProducts(),t.getSiblingProduct(t.products),t.getMaxNum(),setTimeout((function(){t.$emitter.emit("page-loading",!1)}),1e3)})).catch((function(e){t.$emitter.emit("page-loading",!1),t.$pushMessage(e)}))},getAllProducts:function(){var t=this;Object(P["b"])().then((function(e){e.data.success||t.$pushMessage(e),t.products=e.data.products.reverse(),t.getProduct()})).catch((function(e){t.$emitter.emit("page-loading",!1),t.$pushMessage(e)}))},filterProducts:function(){for(var t=this,e=this.product,c=e.category,o=e.id,a=this.products.filter((function(t){return t.category===c&&t.id!==o})),i=a.length<6?a.length:6,r=new Set([]),s=0;r.size<i;s+1){var n=Math.floor(Math.random()*a.length);r.add(n)}this.filterDatas=[],r.forEach((function(e){t.filterDatas.push(a[e])}))},getSiblingProduct:function(t){var e=this;t.forEach((function(c,o){var a=c.id;if(a===e.id){var i=t[o-1]||t[t.length-1],r=t[o+1]||t[0];e.prev_product=!!i&&{id:i.id,title:i.title},e.next_product=!!r&&{id:r.id,title:r.title}}}))},getMaxNum:function(){var t=this,e=this.datas.carts.filter((function(e){return t.product.id===e.product_id}));e?(e.length>0?this.maxNum=30-e[0].qty:this.maxNum=30,this.maxNum<=0?this.product.is_max=!0:this.product.is_max=!1):this.maxNum=30},blurInput:function(){this.product=this.tempNum,this.tempNum.qty<1&&(this.product.qty=1),this.tempNum={}},addToCart:function(t){this.$emitter.emit("add-cart",{item:t,qty:t.qty}),this.$emitter.emit("toggle-spinner",{id:t.id})},goToProduct:function(t){t.id&&this.$router.push("./".concat(t.id))}},watch:{$route:{handler:function(t){"Product"===t.name&&(this.$emitter.emit("page-loading",!0),this.id=this.$route.params.id,this.getProduct())},deep:!0},tempNum:{handler:function(t){var e=t.qty,c=t;e>=this.maxNum&&(c.qty=this.maxNum),e<1&&(c.qty="")},deep:!0},datas:function(){this.getProduct()}},mounted:function(){this.$emitter.emit("page-loading",!0),this.id=this.$route.params.id,this.getAllProducts()}},F=c("6b0d"),M=c.n(F);const q=M()($,[["render",C]]);e["default"]=q}}]);
//# sourceMappingURL=chunk-2d0cfb23.d322c39c.js.map