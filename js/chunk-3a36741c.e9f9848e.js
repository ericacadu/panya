(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a36741c"],{"00b4":function(t,e,r){"use strict";r("ac1f");var n=r("23e7"),c=r("da84"),o=r("c65b"),a=r("e330"),i=r("1626"),s=r("861d"),u=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),l=c.Error,d=a(/./.test);n({target:"RegExp",proto:!0,forced:!u},{test:function(t){var e=this.exec;if(!i(e))return d(this,t);var r=o(e,this,t);if(null!==r&&!s(r))throw new l("RegExp exec method returned something other than an Object or null");return!!r}})},2909:function(t,e,r){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c(t){if(Array.isArray(t))return n(t)}r.d(e,"a",(function(){return s}));r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),r("a630");function o(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}r("fb6a"),r("b0c0"),r("ac1f"),r("00b4");function a(t,e){if(t){if("string"===typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}r("d9e2");function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t){return c(t)||o(t)||a(t)||i()}},a63e:function(t,e,r){"use strict";r("d3b7"),r("159b");var n={methods:{fadeInOnLoad:function(){var t=document.querySelectorAll(".fade-out"),e=document.getElementById("target").offsetTop,r=window,n=r.innerHeight;t.forEach((function(t){n-t.offsetTop>=n-e&&t.classList.add("fade-in")}))},fadeInOnScroll:function(){var t=document.querySelectorAll(".fade-out"),e=document.getElementById("target").offsetTop,r=window,n=r.innerHeight,c=window.scrollY;t.forEach((function(t){c+e-t.offsetTop>=n-e&&t.classList.add("fade-in")}))}},mounted:function(){window.addEventListener("scroll",this.fadeInOnScroll)},unmounted:function(){window.removeEventListener("scroll",this.fadeInOnScroll)}};const c=n;e["a"]=c},ab36:function(t,e,r){var n=r("861d"),c=r("9112");t.exports=function(t,e){n(e)&&"cause"in e&&c(t,"cause",e.cause)}},aeb0:function(t,e,r){var n=r("9bf2").f;t.exports=function(t,e,r){r in t||n(t,r,{configurable:!0,get:function(){return e[r]},set:function(t){e[r]=t}})}},b980:function(t,e,r){var n=r("d039"),c=r("5c6c");t.exports=!n((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",c(1,7)),7!==t.stack)}))},c770:function(t,e,r){var n=r("e330"),c=Error,o=n("".replace),a=function(t){return String(c(t).stack)}("zxcasd"),i=/\n\s*at [^:]*:[^\n]*/,s=i.test(a);t.exports=function(t,e){if(s&&"string"==typeof t&&!c.prepareStackTrace)while(e--)t=o(t,i,"");return t}},d28b:function(t,e,r){var n=r("746f");n("iterator")},d81d:function(t,e,r){"use strict";var n=r("23e7"),c=r("b727").map,o=r("1dde"),a=o("map");n({target:"Array",proto:!0,forced:!a},{map:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}})},d9e2:function(t,e,r){var n=r("23e7"),c=r("da84"),o=r("2ba4"),a=r("e5cb"),i="WebAssembly",s=c[i],u=7!==Error("e",{cause:7}).cause,l=function(t,e){var r={};r[t]=a(t,e,u),n({global:!0,arity:1,forced:u},r)},d=function(t,e){if(s&&s[t]){var r={};r[t]=a(i+"."+t,e,u),n({target:i,stat:!0,arity:1,forced:u},r)}};l("Error",(function(t){return function(e){return o(t,this,arguments)}})),l("EvalError",(function(t){return function(e){return o(t,this,arguments)}})),l("RangeError",(function(t){return function(e){return o(t,this,arguments)}})),l("ReferenceError",(function(t){return function(e){return o(t,this,arguments)}})),l("SyntaxError",(function(t){return function(e){return o(t,this,arguments)}})),l("TypeError",(function(t){return function(e){return o(t,this,arguments)}})),l("URIError",(function(t){return function(e){return o(t,this,arguments)}})),d("CompileError",(function(t){return function(e){return o(t,this,arguments)}})),d("LinkError",(function(t){return function(e){return o(t,this,arguments)}})),d("RuntimeError",(function(t){return function(e){return o(t,this,arguments)}}))},e391:function(t,e,r){var n=r("577e");t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:n(t)}},e5cb:function(t,e,r){"use strict";var n=r("d066"),c=r("1a2d"),o=r("9112"),a=r("3a9b"),i=r("d2bb"),s=r("e893"),u=r("aeb0"),l=r("7156"),d=r("e391"),f=r("ab36"),p=r("c770"),b=r("b980"),m=r("83ab"),g=r("c430");t.exports=function(t,e,r,h){var y="stackTraceLimit",v=h?2:1,O=t.split("."),j=O[O.length-1],k=n.apply(null,O);if(k){var E=k.prototype;if(!g&&c(E,"cause")&&delete E.cause,!r)return k;var x=n("Error"),w=e((function(t,e){var r=d(h?e:t,void 0),n=h?new k(t):new k;return void 0!==r&&o(n,"message",r),b&&o(n,"stack",p(n.stack,2)),this&&a(E,this)&&l(n,this,w),arguments.length>v&&f(n,arguments[v]),n}));if(w.prototype=E,"Error"!==j?i?i(w,x):s(w,x,{name:!0}):m&&y in k&&(u(w,k,y),u(w,k,"prepareStackTrace")),s(w,k),!g)try{E.name!==j&&o(E,"name",j),E.constructor=w}catch(C){}return w}}},ed84:function(t,e,r){"use strict";r.r(e);var n=r("7a23"),c={class:"container px-3 pb-5"},o=Object(n["createElementVNode"])("h1",{class:"fs-4 text-center py-3"},"PANYA 手感烘焙",-1),a={class:"category list-unstyled d-flex justify-content-center mt-4"},i=Object(n["createTextVNode"])(" 全部 "),s=["onClick"],u={class:"products row g-0 g-md-3 p-0 mt-5 list-unstyled"},l=Object(n["createElementVNode"])("div",{id:"target",class:"position-fixed vw-100 bottom-0"},null,-1);function d(t,e,r,d,f,p){var b=Object(n["resolveComponent"])("router-link"),m=Object(n["resolveComponent"])("Product"),g=Object(n["resolveComponent"])("Pagination");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",c,[o,Object(n["createElementVNode"])("ul",a,[f.products.length>0?(Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:0,class:Object(n["normalizeClass"])(["btn btn-outline-primary p-0","all"===f.isActive?"active":""]),onClick:e[0]||(e[0]=function(t){return p.filterProducts(1,"all"),f.isActive="all"})},[Object(n["createVNode"])(b,{class:"px-3 px-md-4 py-1",to:{query:{category:"all",page:1}}},{default:Object(n["withCtx"])((function(){return[i]})),_:1})],2)):Object(n["createCommentVNode"])("",!0),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(f.category,(function(t,e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{class:Object(n["normalizeClass"])(["btn btn-outline-primary p-0 ms-1",f.isActive===t?"active":""]),key:e,onClick:function(e){return p.filterProducts(1,t),f.isActive=t}},[Object(n["createVNode"])(b,{class:"px-3 px-md-4 py-1",to:{query:{category:t,page:1}}},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(t),1)]})),_:2},1032,["to"])],10,s)})),128))]),Object(n["createElementVNode"])("ul",u,[Object(n["createVNode"])(m,{"filter-datas":f.filterDatas,"is-disabled":r.isDisabled},null,8,["filter-datas","is-disabled"])]),l,Object(n["createVNode"])(g,{pages:f.pages,onGetDatas:p.filterProducts},null,8,["pages","onGetDatas"])])}var f=r("2909"),p=(r("d81d"),r("d3b7"),r("6062"),r("3ca3"),r("ddb0"),r("159b"),r("4de4"),r("99af"),r("b0c0"),r("a397")),b=r("25f3"),m=["onClick"],g={key:0,class:"sale"},h=Object(n["createElementVNode"])("small",null,"查看內容",-1),y={class:"products-body p-3"},v=["onClick"],O={class:"products-price mt-1"},j={key:0},k=["disabled","onClick"],E=Object(n["createTextVNode"])(" 加入購物車 "),x={key:0,class:"d-block text-danger mt-1"};function w(t,e,r,c,o,a){var i=Object(n["resolveComponent"])("Spinner");return Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(r.filterDatas,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{class:"products-item col-10 col-md-4 mx-auto mx-md-0 mb-5 fade-out",key:e.id},[Object(n["createElementVNode"])("div",{class:"products-img px-3",style:Object(n["normalizeStyle"])({"background-image":"url(".concat(e.imageUrl,")")}),role:"button",onClick:function(r){return t.$router.push("/product/".concat(e.id))}},[e.price<e.origin_price?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",g,"On Sale")):Object(n["createCommentVNode"])("",!0),h],12,m),Object(n["createElementVNode"])("div",y,[Object(n["createElementVNode"])("p",{class:"products-title m-0",role:"button",onClick:function(r){return t.goToProduct(e.id)}},Object(n["toDisplayString"])(e.title),9,v),Object(n["createElementVNode"])("p",O,[e.price<e.origin_price?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",j,"$"+Object(n["toDisplayString"])(t.$cash(e.price))+" ",1)):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("small",{class:Object(n["normalizeClass"])(e.price<e.origin_price?"del":"")},"$"+Object(n["toDisplayString"])(t.$cash(e.origin_price))+" NTD",3)]),Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-sm btn-outline-primary mx-auto fs-6",disabled:r.isDisabled===e.id||e.is_max,onClick:function(t){return a.addToCart(e)}},[E,Object(n["createVNode"])(i,{"spin-item":e.id},null,8,["spin-item"])],8,k),e.is_max?(Object(n["openBlock"])(),Object(n["createElementBlock"])("small",x,"已達可購買最大數量")):Object(n["createCommentVNode"])("",!0)])])})),128)}var C={props:["filterDatas","isDisabled"],emits:["add-cart","toggle-spinner"],methods:{addToCart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.$emitter.emit("add-cart",{item:t,qty:e}),this.$emitter.emit("toggle-spinner",{id:t.id})}}},A=r("6b0d"),N=r.n(A);const V=N()(C,[["render",w]]);var S=V,B=r("a63e"),P={inject:["provideCart"],emits:["page-loading","push-message"],props:["datas","isDisabled"],components:{Product:S},data:function(){return{products:[],pages:[],category:[],filterDatas:[],tempArry:[],isActive:"all",path:{category:"",page:""},isMax:!1}},mixins:[B["a"]],methods:{getAllProducts:function(){var t=this;Object(p["b"])().then((function(e){e.data.success||t.$pushMessage(e),t.products=e.data.products.reverse();var r=t.products.map((function(t){return t.category})),n=new Set(r);t.category=Object(f["a"])(n),t.filterProducts(t.path.page,t.path.category),t.$emitter.emit("page-loading",!1)})).catch((function(e){t.$emitter.emit("page-loading",!1),t.$pushMessage(e)}))},filterCart:function(){var t=this;this.filterDatas.forEach((function(e){var r=e,n=t.provideCart.data.carts.filter((function(t){return e.id===t.product_id&&t.qty>=30}));n.length>0?r.is_max=!0:r.is_max=!1}))},getPath:function(){this.path.category=this.$route.query.category||"all",this.path.page=this.$route.query.page||1,this.isActive=this.path.category},filterProducts:function(t){var e=this;this.getPath(),"all"===this.path.category?this.tempArry=this.products:this.tempArry=this.products.filter((function(t){return t.category===e.path.category}));var r=Object(b["g"])(t,this.tempArry);this.pages=r.pages,this.filterDatas=r.newArray,this.filterCart(),this.$router.push("./products?category=".concat(this.path.category,"&page=").concat(t)),setTimeout((function(){e.fadeInOnLoad()}),0)}},watch:{$route:{handler:function(t){"Products"===t.name&&this.filterProducts(t.query.page||1,t.query.category||"all")},deep:!0},datas:function(){this.getAllProducts()}},mounted:function(){this.$emitter.emit("page-loading",!0),this.getPath(),this.getAllProducts()}};const D=N()(P,[["render",d]]);e["default"]=D},fb6a:function(t,e,r){"use strict";var n=r("23e7"),c=r("da84"),o=r("e8b5"),a=r("68ee"),i=r("861d"),s=r("23cb"),u=r("07fa"),l=r("fc6a"),d=r("8418"),f=r("b622"),p=r("1dde"),b=r("f36a"),m=p("slice"),g=f("species"),h=c.Array,y=Math.max;n({target:"Array",proto:!0,forced:!m},{slice:function(t,e){var r,n,c,f=l(this),p=u(f),m=s(t,p),v=s(void 0===e?p:e,p);if(o(f)&&(r=f.constructor,a(r)&&(r===h||o(r.prototype))?r=void 0:i(r)&&(r=r[g],null===r&&(r=void 0)),r===h||void 0===r))return b(f,m,v);for(n=new(void 0===r?h:r)(y(v-m,0)),c=0;m<v;m++,c++)m in f&&d(n,c,f[m]);return n.length=c,n}})}}]);
//# sourceMappingURL=chunk-3a36741c.e9f9848e.js.map